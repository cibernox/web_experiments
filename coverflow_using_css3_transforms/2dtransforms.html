<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset=utf-8 />
  <title>Coverflow using css 2D transforms</title>
  <link href="../common.css" rel="stylesheet">
  <link href="cards.css" rel="stylesheet">
  <script src="../jquery-1.5b1.js"></script>
  <script src="../modernizr-1.6.min.js"></script>
  <style>
    .card.left {
      -moz-transform:    matrix(0.500, -0.333, 0.000, 0.667, 0,0);
      -webkit-transform: matrix(0.500, -0.333, 0.000, 0.667, 0,0);
      -o-transform:      matrix(0.500, -0.333, 0.000, 0.667, 0,0);
      transform:         matrix(0.500, -0.333, 0.000, 0.667, 0,0);
      /*
       ** You can anso use separate transformation commands, like these (they are not equivalent) **
      -moz-transform: skewy(-35deg) scale(0.6);
      -webkit-transform: skewy(-35deg) scale(0.6);
      -o-transform: skewy(-35deg) scale(0.6);
      -ms-transform: skewy(-35deg) scale(0.6);
      transform: skewy(-35deg) scale(0.6);*/
    }
    .card.right {
      -webkit-transform:  matrix(0.500, 0.333, 0.000, 0.667, 0,0);
      -moz-transform:     matrix(0.500, 0.333, 0.000, 0.667, 0,0);
      -o-transform:       matrix(0.500, 0.333, 0.000, 0.667, 0,0);
      transform:          matrix(0.500, 0.333, 0.000, 0.667, 0,0);
      /*
      -moz-transform: skewy(35deg) scale(0.6);
      -webkit-transform: skewy(35deg) scale(0.6);
      -o-transform: skewy(35deg) scale(0.6);
      -ms-transform: skewy(35deg) scale(0.6);
      transform: skewy(35deg) scale(0.6);*/
    }
    .card.center{ margin: 10px 15px; }
  </style>
  <script>
    $(function(){
      $(".card").click(function(){
        var $cards = $(".card");
        var clicked_index = $cards.index(this);
        var left_cards = $.map($cards,function(e,i){ return i<clicked_index ? $(e) : null; });
        var right_cards = $.map($cards,function(e,i){ return i>clicked_index ? $(e) : null; });
        $.each(left_cards,function(i,$e){ $e.addClass('left').removeClass('right center first'); });
        $.each(right_cards,function(i,$e){ $e.addClass('right').removeClass('left center first'); });
        $($cards[clicked_index-1]).addClass("first");
        $($cards[clicked_index+1]).addClass("first");
        $(this).removeClass('left right').addClass('center');
        $(this).closest("#slider").css('margin-left', (clicked_index*-135)+'px')
      });
    });
  </script>
</head>
<body>
<a href="http://github.com/cibernox/web_experiments"><img style="position: absolute; top: 0; left: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
  <div id="main" class="rounded-border wrapper">
    <div id="demo">
      <div id="slider">
        <div class="card rounded-border center" style="background: #f6f6f6 url(coverflow_images/dreamglow.jpg);"></div>
        <div class="card rounded-border right first" style="background: #f6f6f6 url(coverflow_images/dreamglow_flower.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/OliBac.jpg);"></div>
        <div class="card rounded-border right temp" style="background: #f6f6f6 url(coverflow_images/OliBac_flower.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/PinkSherbertPhotography_beadsNheart.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/PinkSherbertPhotography_candy.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/PinkSherbetPhotography.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/ThomasShahan.jpg);"></div>
        <div class="card rounded-border right" style="background: #f6f6f6 url(coverflow_images/ViaMoi.jpg);"></div>
      </div>
    </div>
    <div class="right-text">All images are Creative Common</div>
  </div>
  <div id="credits" class="rounded-border wrapper">
    Demo by Miguel Camba | <a href="mailto:miguel.camba@gmail.com">Email</a>
    | <a href="http://github.com/cibernox">GitHub</a>
    | <a href="http://twitter.com/#!/MiguelCamba">Twitter</a> | <a href="http://es.linkedin.com/in/miguelcamba">LinkedIn</a>
    | <a href="http://masquerailes.wordpress.com/">Blog</a>
  </div>
</body>
</html>